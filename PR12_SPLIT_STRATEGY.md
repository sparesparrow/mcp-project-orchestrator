# PR #12 Split Strategy

## Overview
PR #12 contains 300+ files generated by background agent bc-999be121-b524-44b8-a952-8dbe4e68f265.
This strategy breaks it into 5 focused, reviewable PRs by logical feature area.

## PR Breakdown

### PR #12-A: MCP Core Integration & Orchestration
**Focus**: Core MCP server, orchestration engine, and prompt templates
**Size**: ~100 files
**Priority**: HIGH (Foundation for other features)

Files:
- `src/mcp_project_orchestrator/` (all Python source)
  - `cli.py`, `main.py`, `server.py`
  - `core/` (base orchestration logic)
  - `managers.py`, `logging.py`, `exceptions.py`
  - `templates/` (Mermaid diagrams, prompt templates)
- `src/mcp.json.jinja2` (MCP server config template)
- `.cursor/` (Cursor IDE config for MCP)
- `mcp/` (MCP related files)

Commit Message:
```
feat(mcp): Integrate Agent Skills into MCP Prompts

- Implement Agent Skills framework for intelligent orchestration
- Add MCP server implementation with multiple tools
- Integrate prompt templates for analysis, architecture, debugging
- Add Mermaid diagram generation and modification
- FIPS-compliant orchestration core
```

---

### PR #12-B: OpenSSL Tools & FIPS Compliance
**Focus**: OpenSSL orchestration, DDD architecture, FIPS compliance
**Size**: ~60 files
**Priority**: HIGH (Domain core)

Files:
- `consumers/openssl-ddd-architecture/` (full DDD structure)
  - `src/` (application, domain, infrastructure, presentation)
  - `CMakeLists.txt`, `conanfile.py`
- `src/openssl-tools/` (Python orchestration)
  - `fips_compliance.py`
  - `openssl_orchestration_main.py`
  - `openssl_tools_orchestration.py`
  - `openssl_tools_orchestration_example.py`
  - `package_manifest.json`
- `examples/openssl_tools_orchestration_example.py`
- `docs/OPENSSL_TOOLS_ORCHESTRATION.md`

Commit Message:
```
feat(openssl): DDD Architecture & FIPS-Compliant Orchestration

- Implement Domain-Driven Design (DDD) for OpenSSL
- Add FIPS compliance validation and enforcement
- Create OpenSSL tools orchestration with MCP integration
- Add cryptographic utilities and provider management
- Include comprehensive examples
```

---

### PR #12-C: AWS SIP Trunk Deployment (Consumer Project)
**Focus**: AWS-specific deployment, Asterisk SIP configuration
**Size**: ~50 files
**Priority**: MEDIUM (Self-contained consumer)

Files:
- `consumers/aws-sip-trunk/` (complete consumer)
  - `config/` (extensions.conf.j2, pjsip.conf.j2)
  - `docs/` (DEPLOYMENT.md, TROUBLESHOOTING.md)
  - `scripts/` (deploy-asterisk-aws.sh, user-data.sh)
  - `terraform/` (all .tf files)
  - `tests/test_sip_connectivity.py`
  - `conanfile.py`
- `docs/AWS_SIP_TRUNK_DEPLOYMENT_COMPLETE.md`
- `docs/AWS_MCP_IMPLEMENTATION_SUMMARY.md`

Commit Message:
```
feat(aws): Complete SIP Trunk Deployment on AWS

- Add Terraform infrastructure (EC2, networking, storage, monitoring)
- Create Asterisk configuration templates for SIP
- Implement deployment scripts for automated setup
- Add connectivity tests and troubleshooting guide
- Document complete deployment workflow
```

---

### PR #12-D: Documentation & Examples
**Focus**: Comprehensive guides, roadmaps, and usage examples
**Size**: ~40 files
**Priority**: MEDIUM (Docs, can follow features)

Files:
- `docs/` (all markdown files)
  - `AGENT_SKILLS_INTEGRATION_ROADMAP.md`
  - `OPENSSL_TOOLS_ORCHESTRATION.md`
  - `AWS_SIP_TRUNK_DEPLOYMENT_COMPLETE.md`
  - `IMPLEMENTATION_STATUS.md`
  - `REFACTORING_COMPLETED.md`
  - Other summary/guide docs
- `examples/openssl_tools_orchestration_example.py`
- `QUICKSTART.md`, `VERIFICATION_CHECKLIST.md`
- `PROJECT_INDEX.md`, `DEPLOYMENT_SUMMARY.md`

Commit Message:
```
docs: Add comprehensive guides and examples

- Add Agent Skills integration roadmap
- Document OpenSSL tools orchestration
- Create AWS SIP trunk deployment guide
- Add implementation status and refactoring notes
- Include usage examples and quickstart
```

---

### PR #12-E: Build System, CI/CD, & Shared Config
**Focus**: Build configuration, GitHub Actions, shared templates
**Size**: ~30 files
**Priority**: LOW (Config/infrastructure)

Files:
- `.github/workflows/` (all .yml files)
  - `validate-cursor-config.yml`
  - `build-component-reusable.yml`
- `pyproject.toml`, `setup.py`
- `.env.example`
- `requirements.txt`, `conanfile.py` (main)
- `.gitignore`
- `.cursor/` (Cursor IDE configuration)
  - `cursor-rules/` (all .md.jinja2 files)
  - `prompts/` (all prompt template JSONs)
  - `rules/` (C/C++ development rules)
  - `profiles/` (compiler profiles)

Commit Message:
```
chore: Add build system, CI/CD pipelines, and configuration

- Configure GitHub Actions for validation and builds
- Add Conan package manager configuration
- Setup Cursor IDE rules and prompts for development
- Add environment templates and project configuration
- Include compiler profiles for multiple platforms
```

---

## Implementation Steps

### 1. Prepare Feature Branches (Local)
```bash
# Base from current main (after PR #13 merges)
git checkout main
git pull origin main

# Create feature branches for each PR
git checkout -b feature/mcp-core-integration
git checkout -b feature/openssl-ddd-fips
git checkout -b feature/aws-sip-deployment
git checkout -b feature/docs-examples
git checkout -b feature/build-config
```

### 2. Extract Files Using git
For each feature branch:
```bash
git checkout feature/mcp-core-integration
# Use git show from agent branch to extract specific files
git show cursor/bc-999be121-b524-44b8-a952-8dbe4e68f265-c3e8:src/mcp_project_orchestrator/cli.py > src/mcp_project_orchestrator/cli.py
# ... repeat for all files in the feature
```

Alternatively, use selective cherry-pick:
```bash
git log cursor/bc-999be121-b524-44b8-a952-8dbe4e68f265-c3e8 --oneline # See commits
# Cherry-pick only MCP-related commits
```

### 3. Create Pull Requests
For each feature branch:
1. Ensure clean, focused commit history
2. Test locally (run tests, validate imports)
3. Push to GitHub
4. Create PR with detailed description
5. Link to original PR #12 with context

### 4. Review & Merge
- Each PR should be small enough to review in <30 mins
- Once all PRs merged, close PR #12 as superseded

---

## File Count Reference

| Component | Files | Complexity |
|-----------|-------|------------|
| MCP Core | ~100 | High (interdependent) |
| OpenSSL DDD | ~60 | High (domain-specific) |
| AWS SIP | ~50 | Medium (self-contained) |
| Documentation | ~40 | Low (informational) |
| Build/Config | ~30 | Low (templates/scripts) |
| **Total** | **~280** | |

---

## Dependencies

**Merge Order** (recommended):
1. âœ… PR #13 (OpenSSL templates refactor) - **DO FIRST**
2. PR #12-A (MCP Core) - Foundation for everything
3. PR #12-B (OpenSSL DDD/FIPS) - Depends on #12-A
4. PR #12-C (AWS SIP) - Can run parallel with #12-B
5. PR #12-D (Docs) - Should follow feature PRs
6. PR #12-E (Build/Config) - Can go anytime

---

## Testing Strategy

For each PR before merge:
- [ ] `pytest` passes on new/modified Python code
- [ ] JSON/YAML files are valid and parseable
- [ ] Markdown renders correctly
- [ ] No circular imports or missing dependencies
- [ ] Documentation is internally consistent

---

## Closing PR #12

Once all split PRs are created:
1. Comment on PR #12 summarizing the split
2. Link to all 5 new PRs
3. Mark as "Superseded by PR #12-A through #12-E"
4. Close the PR

Example comment:
```
This PR has been split into focused, reviewable PRs:
- PR #12-A: MCP Core Integration
- PR #12-B: OpenSSL DDD & FIPS Compliance  
- PR #12-C: AWS SIP Trunk Deployment
- PR #12-D: Documentation & Examples
- PR #12-E: Build System & Configuration

Please review and merge those PRs instead.
```
